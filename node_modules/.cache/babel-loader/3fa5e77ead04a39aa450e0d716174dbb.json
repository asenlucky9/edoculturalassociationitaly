{"ast":null,"code":"import React,{useState}from'react';const PhotosVideo=()=>{const[media,setMedia]=useState([]);const[mediaFile,setMediaFile]=useState(null);const[mediaType,setMediaType]=useState('image');// Default type is image\nconst[error,setError]=useState('');// For error messages\n// Simulating admin login state; change to true to test as admin\nconst isAdmin=false;// Change this to true to simulate an admin login\nconst handleFileChange=e=>{const file=e.target.files[0];if(file){// Check file type\nconst validImageTypes=['image/jpeg','image/png','image/gif'];const validVideoTypes=['video/mp4','video/webm'];if(mediaType==='image'&&!validImageTypes.includes(file.type)){setError('Please upload a valid image file (JPEG, PNG, GIF).');setMediaFile(null);return;}else if(mediaType==='video'&&!validVideoTypes.includes(file.type)){setError('Please upload a valid video file (MP4, WEBM).');setMediaFile(null);return;}setError('');// Clear error if file is valid\nsetMediaFile(file);}};const handleTypeChange=e=>{setMediaType(e.target.value);setMediaFile(null);// Reset the file input when type changes\n};const handleUpload=e=>{e.preventDefault();if(mediaFile){const newMedia={file:URL.createObjectURL(mediaFile),// Create a URL for the uploaded file\ntype:mediaType};setMedia([...media,newMedia]);setMediaFile(null);// Reset the file input after upload\n}};return/*#__PURE__*/React.createElement(\"div\",{className:\"photos-video-container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Upload Photos and Videos\"),isAdmin?/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleUpload,className:\"upload-form\"},error&&/*#__PURE__*/React.createElement(\"p\",{className:\"error-message\"},error),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Media Type:\"),/*#__PURE__*/React.createElement(\"select\",{value:mediaType,onChange:handleTypeChange},/*#__PURE__*/React.createElement(\"option\",{value:\"image\"},\"Image\"),/*#__PURE__*/React.createElement(\"option\",{value:\"video\"},\"Video\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,mediaType==='image'?'Upload Image':'Upload Video',\":\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:mediaType==='image'?'image/*':'video/*',onChange:handleFileChange,required:true})),mediaFile&&/*#__PURE__*/React.createElement(\"div\",{className:\"file-preview\"},mediaType==='image'?/*#__PURE__*/React.createElement(\"img\",{src:URL.createObjectURL(mediaFile),alt:\"Preview\",className:\"preview-image\"}):/*#__PURE__*/React.createElement(\"video\",{controls:true,className:\"preview-video\"},/*#__PURE__*/React.createElement(\"source\",{src:URL.createObjectURL(mediaFile),type:mediaFile.type}),\"Your browser does not support the video tag.\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"upload-button\"},\"Upload\")):/*#__PURE__*/React.createElement(\"p\",null,\"You must be an admin to upload media.\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Uploaded Media\"),/*#__PURE__*/React.createElement(\"div\",{className:\"media-list\"},media.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"media\"},item.type==='image'?/*#__PURE__*/React.createElement(\"img\",{src:item.file,alt:`Uploaded Media ${index}`,className:\"media-image\"}):/*#__PURE__*/React.createElement(\"video\",{controls:true,className:\"media-video\"},/*#__PURE__*/React.createElement(\"source\",{src:item.file,type:\"video/mp4\"}),\"Your browser does not support the video tag.\")))));};export default PhotosVideo;","map":{"version":3,"names":["React","useState","PhotosVideo","media","setMedia","mediaFile","setMediaFile","mediaType","setMediaType","error","setError","isAdmin","handleFileChange","e","file","target","files","validImageTypes","validVideoTypes","includes","type","handleTypeChange","value","handleUpload","preventDefault","newMedia","URL","createObjectURL","createElement","className","onSubmit","onChange","accept","required","src","alt","controls","map","item","index","key"],"sources":["C:/Users/king/OneDrive/Desktop/edoculturalassociationitaly/src/photosVideo.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\n\r\n\r\nconst PhotosVideo = () => {\r\n    const [media, setMedia] = useState([]);\r\n    const [mediaFile, setMediaFile] = useState(null);\r\n    const [mediaType, setMediaType] = useState('image'); // Default type is image\r\n    const [error, setError] = useState(''); // For error messages\r\n\r\n    // Simulating admin login state; change to true to test as admin\r\n    const isAdmin = false; // Change this to true to simulate an admin login\r\n\r\n    const handleFileChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            // Check file type\r\n            const validImageTypes = ['image/jpeg', 'image/png', 'image/gif'];\r\n            const validVideoTypes = ['video/mp4', 'video/webm'];\r\n\r\n            if (mediaType === 'image' && !validImageTypes.includes(file.type)) {\r\n                setError('Please upload a valid image file (JPEG, PNG, GIF).');\r\n                setMediaFile(null);\r\n                return;\r\n            } else if (mediaType === 'video' && !validVideoTypes.includes(file.type)) {\r\n                setError('Please upload a valid video file (MP4, WEBM).');\r\n                setMediaFile(null);\r\n                return;\r\n            }\r\n            setError(''); // Clear error if file is valid\r\n            setMediaFile(file);\r\n        }\r\n    };\r\n\r\n    const handleTypeChange = (e) => {\r\n        setMediaType(e.target.value);\r\n        setMediaFile(null); // Reset the file input when type changes\r\n    };\r\n\r\n    const handleUpload = (e) => {\r\n        e.preventDefault();\r\n        if (mediaFile) {\r\n            const newMedia = {\r\n                file: URL.createObjectURL(mediaFile), // Create a URL for the uploaded file\r\n                type: mediaType,\r\n            };\r\n            setMedia([...media, newMedia]);\r\n            setMediaFile(null); // Reset the file input after upload\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"photos-video-container\">\r\n            <h2>Upload Photos and Videos</h2>\r\n            {/* Check if the user is an admin */}\r\n            {isAdmin ? (\r\n                <form onSubmit={handleUpload} className=\"upload-form\">\r\n                    {error && <p className=\"error-message\">{error}</p>}\r\n                    <div>\r\n                        <label>Media Type:</label>\r\n                        <select value={mediaType} onChange={handleTypeChange}>\r\n                            <option value=\"image\">Image</option>\r\n                            <option value=\"video\">Video</option>\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <label>{mediaType === 'image' ? 'Upload Image' : 'Upload Video'}:</label>\r\n                        <input\r\n                            type=\"file\"\r\n                            accept={mediaType === 'image' ? 'image/*' : 'video/*'}\r\n                            onChange={handleFileChange}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    {mediaFile && (\r\n                        <div className=\"file-preview\">\r\n                            {mediaType === 'image' ? (\r\n                                <img src={URL.createObjectURL(mediaFile)} alt=\"Preview\" className=\"preview-image\" />\r\n                            ) : (\r\n                                <video controls className=\"preview-video\">\r\n                                    <source src={URL.createObjectURL(mediaFile)} type={mediaFile.type} />\r\n                                    Your browser does not support the video tag.\r\n                                </video>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                    <button type=\"submit\" className=\"upload-button\">Upload</button>\r\n                </form>\r\n            ) : (\r\n                <p>You must be an admin to upload media.</p>\r\n            )}\r\n\r\n            <h2>Uploaded Media</h2>\r\n            <div className=\"media-list\">\r\n                {media.map((item, index) => (\r\n                    <div key={index} className=\"media\">\r\n                        {item.type === 'image' ? (\r\n                            <img src={item.file} alt={`Uploaded Media ${index}`} className=\"media-image\" />\r\n                        ) : (\r\n                            <video controls className=\"media-video\">\r\n                                <source src={item.file} type=\"video/mp4\" />\r\n                                Your browser does not support the video tag.\r\n                            </video>\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PhotosVideo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}