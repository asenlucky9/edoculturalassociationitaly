{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'./AuthProvider';// Make sure the path to AuthProvider is correct\nconst Events=()=>{const{user,logout,events,addEvent}=useAuth();const[newEvent,setNewEvent]=useState({title:'',address:'',date:'',image:''});// Event state\nconst[error,setError]=useState(null);// Holds error state\nconst handleInputChange=e=>{const{name,value}=e.target;setNewEvent(prev=>({...prev,[name]:value}));};const handleSubmit=e=>{e.preventDefault();// Basic validation\nif(!newEvent.title||!newEvent.address||!newEvent.date||!newEvent.image){setError('All fields are required.');return;}// Call addEvent from context\naddEvent(newEvent);setNewEvent({title:'',address:'',date:'',image:''});// Reset form\nsetError(null);// Clear error message\n};const handleLogout=()=>{logout();};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Upcoming Events\"),user&&user.role==='admin'&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:handleLogout,style:{marginBottom:'10px'}},\"Logout\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Add New Event\"),error&&/*#__PURE__*/React.createElement(\"p\",{style:{color:'red'}},error),\" \",/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"title\",placeholder:\"Event Title\",value:newEvent.title,onChange:handleInputChange,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"address\",placeholder:\"Event Address\",value:newEvent.address,onChange:handleInputChange,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"date\",value:newEvent.date,onChange:handleInputChange,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"image\",placeholder:\"Image URL\",value:newEvent.image,onChange:handleInputChange,required:true}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Add Event\"))),/*#__PURE__*/React.createElement(\"h3\",null,\"Event List\"),/*#__PURE__*/React.createElement(\"ul\",null,events.length>0?events.map((event,index)=>/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(\"h4\",null,event.title),/*#__PURE__*/React.createElement(\"p\",null,event.address),/*#__PURE__*/React.createElement(\"p\",null,new Date(event.date).toLocaleDateString()),\" \",event.image&&/*#__PURE__*/React.createElement(\"img\",{src:event.image,alt:event.title,style:{width:'100px',height:'auto'}}))):/*#__PURE__*/React.createElement(\"p\",null,\"No upcoming events found.\")// Show message if no events\n));};export default Events;","map":{"version":3,"names":["React","useState","useAuth","Events","user","logout","events","addEvent","newEvent","setNewEvent","title","address","date","image","error","setError","handleInputChange","e","name","value","target","prev","handleSubmit","preventDefault","handleLogout","createElement","role","Fragment","onClick","style","marginBottom","color","onSubmit","type","placeholder","onChange","required","length","map","event","index","key","Date","toLocaleDateString","src","alt","width","height"],"sources":["C:/Users/king/OneDrive/Desktop/edoculturalassociationitaly/src/events.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from './AuthProvider'; // Make sure the path to AuthProvider is correct\r\n\r\nconst Events = () => {\r\n    const { user, logout, events, addEvent } = useAuth();\r\n    const [newEvent, setNewEvent] = useState({ title: '', address: '', date: '', image: '' }); // Event state\r\n    const [error, setError] = useState(null); // Holds error state\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setNewEvent((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Basic validation\r\n        if (!newEvent.title || !newEvent.address || !newEvent.date || !newEvent.image) {\r\n            setError('All fields are required.');\r\n            return;\r\n        }\r\n\r\n        // Call addEvent from context\r\n        addEvent(newEvent); \r\n        setNewEvent({ title: '', address: '', date: '', image: '' }); // Reset form\r\n        setError(null); // Clear error message\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Upcoming Events</h2>\r\n            {user && user.role === 'admin' && (\r\n                <>\r\n                    <button onClick={handleLogout} style={{ marginBottom: '10px' }}>\r\n                        Logout\r\n                    </button>\r\n                    <h3>Add New Event</h3>\r\n                    {error && <p style={{ color: 'red' }}>{error}</p>} {/* Show error message */}\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"title\" \r\n                            placeholder=\"Event Title\" \r\n                            value={newEvent.title} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"address\" \r\n                            placeholder=\"Event Address\" \r\n                            value={newEvent.address} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"date\" \r\n                            name=\"date\" \r\n                            value={newEvent.date} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"image\" \r\n                            placeholder=\"Image URL\" \r\n                            value={newEvent.image} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <button type=\"submit\">Add Event</button>\r\n                    </form>\r\n                </>\r\n            )}\r\n            <h3>Event List</h3>\r\n            <ul>\r\n                {events.length > 0 ? (\r\n                    events.map((event, index) => (\r\n                        <li key={index}>\r\n                            <h4>{event.title}</h4>\r\n                            <p>{event.address}</p>\r\n                            <p>{new Date(event.date).toLocaleDateString()}</p> {/* Format date */}\r\n                            {event.image && (\r\n                                <img src={event.image} alt={event.title} style={{ width: '100px', height: 'auto' }} />\r\n                            )}\r\n                        </li>\r\n                    ))\r\n                ) : (\r\n                    <p>No upcoming events found.</p> // Show message if no events\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Events;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}