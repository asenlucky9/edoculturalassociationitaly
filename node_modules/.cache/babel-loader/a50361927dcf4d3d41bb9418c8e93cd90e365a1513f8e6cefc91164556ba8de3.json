{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'./AuthProvider';// Make sure the path to AuthProvider is correct\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Events=()=>{const{user,logout,events,addEvent}=useAuth();const[newEvent,setNewEvent]=useState({title:'',address:'',date:'',image:''});// Event state\nconst[error,setError]=useState(null);// Holds error state\nconst handleInputChange=e=>{const{name,value}=e.target;setNewEvent(prev=>({...prev,[name]:value}));};const handleSubmit=e=>{e.preventDefault();// Basic validation\nif(!newEvent.title||!newEvent.address||!newEvent.date||!newEvent.image){setError('All fields are required.');return;}// Call addEvent from context\naddEvent(newEvent);setNewEvent({title:'',address:'',date:'',image:''});// Reset form\nsetError(null);// Clear error message\n};const handleLogout=()=>{logout();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upcoming Events\"}),user&&user.role==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{marginBottom:'10px'},children:\"Logout\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Event\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),\" \",/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Event Title\",value:newEvent.title,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",placeholder:\"Event Address\",value:newEvent.address,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:newEvent.date,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",placeholder:\"Image URL\",value:newEvent.image,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Event\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Event List\"}),/*#__PURE__*/_jsx(\"ul\",{children:events.length>0?events.map((event,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:event.title}),/*#__PURE__*/_jsx(\"p\",{children:event.address}),/*#__PURE__*/_jsx(\"p\",{children:new Date(event.date).toLocaleDateString()}),\" \",event.image&&/*#__PURE__*/_jsx(\"img\",{src:event.image,alt:event.title,style:{width:'100px',height:'auto'}})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No upcoming events found.\"})// Show message if no events\n})]});};export default Events;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Events","user","logout","events","addEvent","newEvent","setNewEvent","title","address","date","image","error","setError","handleInputChange","e","name","value","target","prev","handleSubmit","preventDefault","handleLogout","children","role","onClick","style","marginBottom","color","onSubmit","type","placeholder","onChange","required","length","map","event","index","Date","toLocaleDateString","src","alt","width","height"],"sources":["C:/Users/king/OneDrive/Desktop/edoculturalassociationitaly/src/events.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from './AuthProvider'; // Make sure the path to AuthProvider is correct\r\n\r\nconst Events = () => {\r\n    const { user, logout, events, addEvent } = useAuth();\r\n    const [newEvent, setNewEvent] = useState({ title: '', address: '', date: '', image: '' }); // Event state\r\n    const [error, setError] = useState(null); // Holds error state\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setNewEvent((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Basic validation\r\n        if (!newEvent.title || !newEvent.address || !newEvent.date || !newEvent.image) {\r\n            setError('All fields are required.');\r\n            return;\r\n        }\r\n\r\n        // Call addEvent from context\r\n        addEvent(newEvent); \r\n        setNewEvent({ title: '', address: '', date: '', image: '' }); // Reset form\r\n        setError(null); // Clear error message\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Upcoming Events</h2>\r\n            {user && user.role === 'admin' && (\r\n                <>\r\n                    <button onClick={handleLogout} style={{ marginBottom: '10px' }}>\r\n                        Logout\r\n                    </button>\r\n                    <h3>Add New Event</h3>\r\n                    {error && <p style={{ color: 'red' }}>{error}</p>} {/* Show error message */}\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"title\" \r\n                            placeholder=\"Event Title\" \r\n                            value={newEvent.title} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"address\" \r\n                            placeholder=\"Event Address\" \r\n                            value={newEvent.address} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"date\" \r\n                            name=\"date\" \r\n                            value={newEvent.date} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"image\" \r\n                            placeholder=\"Image URL\" \r\n                            value={newEvent.image} \r\n                            onChange={handleInputChange} \r\n                            required \r\n                        />\r\n                        <button type=\"submit\">Add Event</button>\r\n                    </form>\r\n                </>\r\n            )}\r\n            <h3>Event List</h3>\r\n            <ul>\r\n                {events.length > 0 ? (\r\n                    events.map((event, index) => (\r\n                        <li key={index}>\r\n                            <h4>{event.title}</h4>\r\n                            <p>{event.address}</p>\r\n                            <p>{new Date(event.date).toLocaleDateString()}</p> {/* Format date */}\r\n                            {event.image && (\r\n                                <img src={event.image} alt={event.title} style={{ width: '100px', height: 'auto' }} />\r\n                            )}\r\n                        </li>\r\n                    ))\r\n                ) : (\r\n                    <p>No upcoming events found.</p> // Show message if no events\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Events;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}